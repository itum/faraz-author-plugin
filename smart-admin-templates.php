<?php
/**
 * قالب‌های پرامپت برای تولید محتوا
 * 
 * این فایل شامل پرامپت‌های بهینه‌سازی شده برای تولید محتوای مقاله و بلاگ است
 */

// پرامپت‌های پیش‌فرض
function get_default_content_prompts() {
    return array(
        // ****** پرامپت شماره 1: مقاله بنیادی و جامع (Pillar Page) ******
        array(
            'title' => 'مقاله جامع و بنیادی (Pillar Page)',
            'model' => 'gpt-4o',
            'prompt' => '
**نقش شما:** شما یک استراتژیست ارشد محتوا و متخصص SEO با بیش از ۱۰ سال تجربه هستید. وظیفه شما ایجاد یک مقاله بنیادی (Pillar Page) بسیار جامع، معتبر و کاملاً بهینه‌سازی شده برای موضوع "[موضوع اصلی مقاله]" است. این مقاله باید به عنوان منبع اصلی و نهایی برای این موضوع در وب فارسی عمل کند.

**مراحل اجرای کار (بسیار مهم):**

**مرحله ۱: تحلیل عمیق و تحقیق کلمات کلیدی**
1.  **شناسایی هدف جستجو (Search Intent):** ابتدا مشخص کن که کاربرانی که در مورد "[موضوع اصلی مقاله]" جستجو می‌کنند، به دنبال چه نوع اطلاعاتی هستند؟ (مثلاً اطلاعاتی، آموزشی، راهنمای خرید).
2.  **تحقیق کلمات کلیدی:** لیستی از کلمات کلیدی مرتبط تهیه کن:
    *   **کلمه کلیدی اصلی:** [موضوع اصلی مقاله]
    *   **کلمات کلیدی فرعی (LSI):** حداقل ۱۰ کلمه کلیدی مرتبط معنایی پیدا کن.
    *   **کلمات کلیدی طولانی (Long-tail):** حداقل ۵ سوال رایج که کاربران در این مورد می‌پرسند را شناسایی کن (مثلاً "چگونه X را انجام دهیم؟"، "بهترین Y برای Z چیست؟").
3.  **تحلیل رقبا:** به صورت فرضی، ۳ مقاله برتر در نتایج جستجوی گوگل برای این موضوع را تحلیل کن. نقاط قوت و ضعف آن‌ها چیست؟ چه شکاف‌های محتوایی وجود دارد که ما می‌توانیم آن‌ها را پر کنیم؟

**مرحله ۲: طراحی ساختار مقاله (Blueprint)**
بر اساس تحقیقات مرحله ۱، یک ساختار درختی و دقیق برای مقاله طراحی کن. این ساختار باید شامل موارد زیر باشد:
*   **H1 (عنوان اصلی):** یک عنوان جذاب، منحصر به فرد و سئو شده (حاوی کلمه کلیدی اصلی).
*   **مقدمه:** یک مقدمه قدرتمند که با یک "قلاب" (Hook) شروع می‌شود، مشکل کاربر را بیان می‌کند و قول یک راه‌حل جامع را می‌دهد.
*   **H2 (فصل‌های اصلی):** مقاله را به بخش‌های منطقی (حداقل ۵ فصل) تقسیم کن. هر H2 باید یکی از جنبه‌های اصلی موضوع را پوشش دهد.
*   **H3 (زیرفصل‌ها):** هر H2 را به H3 های مرتبط‌تر تقسیم کن تا خوانایی افزایش یابد.
*   **نتیجه‌گیری:** یک جمع‌ بندی کامل که نکات کلیدی را مرور کرده و یک دیدگاه نهایی ارائه می‌دهد.
*   **بخش پرسش‌های متداول (FAQ):** بر اساس کلمات کلیدی طولانی (سوالات) که پیدا کردی، یک بخش FAQ با پاسخ‌های دقیق و کوتاه ایجاد کن.

**مرحله ۳: نگارش و تولید محتوا**
با استفاده از ساختار بالا، شروع به نوشتن مقاله کن. نکات زیر را **با دقت** رعایت کن:
*   **لحن و سبک:** لحنی معتبر، حرفه‌ای اما روان و قابل فهم. از سبک نگارش "هرم معکوس" استفاده کن (مهم‌ترین اطلاعات در ابتدا).
*   **خوانایی:** پاراگراف‌ها را کوتاه (حداکثر ۳-۴ جمله) نگه دار. از لیست‌های شماره‌دار و بولت‌پوینت، **نقل قول** و **متن برجسته** برای شکستن یکنواختی متن استفاده کن.
*   **چگالی کلمات کلیدی:** کلمه کلیدی اصلی را در مقدمه، نتیجه‌گیری و یکی دو تا از H2 ها به کار ببر. از کلمات کلیدی فرعی و طولانی به صورت طبیعی در سراسر متن استفاده کن. **از تکرار بیش از حد (Keyword Stuffing) به شدت پرهیز کن.**
*   **غنی‌سازی محتوا:** برای اعتبار بخشیدن به متن، به **آمار و ارقام** (با ذکر منبع فرضی)، **مثال‌های عملی** و **مطالعات موردی** اشاره کن. پیشنهاداتی برای افزودن **اینفوگرافیک** یا **ویدیو** در بخش‌های مرتبط ارائه بده.
*   **لینک‌دهی داخلی:** حداقل ۳ پیشنهاد برای لینک داخلی به مقالات مرتبط دیگر (با موضوعات فرضی) در متن بگنجان.

**مرحله ۴: بهینه‌سازی نهایی و CTA**
1.  **بهینه‌سازی عنوان و توضیحات متا:** یک عنوان سئو (کمتر از ۶۰ کاراکتر) و یک توضیحات متا (کمتر از ۱۶۰ کاراکتر) جذاب و حاوی کلمه کلیدی اصلی پیشنهاد بده.
2.  **دعوت به اقدام (Call to Action):** در انتهای مقاله، یک CTA مرتبط و هوشمندانه قرار بده (مثلاً دعوت به دانلود یک کتاب الکترونیکی، ثبت‌نام در وبینار یا مطالعه یک مقاله مرتبط دیگر).

**خروجی نهایی:**
مقاله باید حداقل **۲۵۰۰ کلمه** باشد، کاملاً ساختاریافته، فاقد هرگونه اطلاعات نادرست و آماده انتشار مستقیم در وردپرس باشد. لطفاً از نوشتن عباراتی مانند "عنوان مقاله:" یا "مقدمه:" خودداری کن و مستقیماً محتوا را تولید نما.
'
        ),
        // ****** پرامپت شماره 2: مقاله با تکنیک آسمان‌خراش (Skyscraper) ******
        array(
            'title' => 'مقاله به روش آسمان‌خراش (Skyscraper)',
            'model' => 'gpt-4o',
            'prompt' => '
**نقش شما:** شما یک متخصص بازاریابی محتوا هستید که در اجرای تکنیک "آسمان‌خراش" (Skyscraper) مهارت دارید. وظیفه شما این است که برای موضوع "[موضوع اصلی مقاله]"، یک مقاله جدید بنویسید که از تمام مقالات موجود در این زمینه **بهتر، جامع‌تر و به‌روزتر** باشد.

**مراحل اجرای کار (بسیار مهم):**

**مرحله ۱: تحلیل رقبا و شناسایی شکاف‌ها**
1.  **تحلیل محتوای برتر:** فرض کن بهترین مقاله موجود در مورد "[موضوع اصلی مقاله]" را پیدا کرده‌ای. ساختار، نکات کلیدی، آمار و منابع آن مقاله را تحلیل کن.
2.  **شناسایی نقاط ضعف:** مشخص کن آن مقاله در چه زمینه‌هایی ضعف دارد:
    *   آیا اطلاعات آن قدیمی شده است؟
    *   آیا به جزئیات کافی نپرداخته است؟
    *   آیا طراحی و خوانایی ضعیفی دارد؟
    *   آیا مثال‌های عملی و تصاویر کافی ندارد؟
3.  **ایده‌پردازی برای بهبود:** لیستی از ۱۰ روش مشخص برای بهتر کردن آن محتوا تهیه کن (مثلاً افزودن یک بخش جدید، ارائه آمار جدیدتر، ایجاد یک اینفوگرافیک، افزودن چک‌لیست عملی).

**مرحله ۲: طراحی ساختار مقاله برتر**
بر اساس تحلیل‌های بالا، یک ساختار دقیق برای مقاله جدید طراحی کن که تمام شکاف‌های محتوایی رقبا را پوشش دهد و ارزش افزوده‌ی جدیدی ایجاد کند. ساختار باید شامل:
*   **H1 (عنوان):** عنوانی قدرتمندتر از رقبا که بر جامعیت و جدید بودن محتوا تأکید کند (مثلاً "راهنمای نهایی..."، "هر آنچه باید بدانید...").
*   **مقدمه:** با اشاره به کامل نبودن منابع دیگر، قول یک محتوای برتر و جامع را به کاربر بده.
*   **بدنه اصلی:** تمام بخش‌های خوب مقاله رقیب را پوشش بده و بخش‌های جدیدی که ایده پردازی کردی را به آن اضافه کن.
*   **غنی‌سازی ویژه:** حتماً یک بخش منحصر به فرد در مقاله بگنجان که در هیچ‌کدام از مقالات رقبا وجود ندارد (مثلاً مصاحبه با یک متخصص فرضی، یک چک‌لیست قابل دانلود، یا یک ویدیو آموزشی).
*   **نتیجه‌گیری:** به طور خلاصه بیان کن که چرا این مقاله از بقیه بهتر است و نکات کلیدی را یادآوری کن.

**مرحله ۳: نگارش محتوای آسمان‌خراش**
*   **عمق و جزئیات:** هر بخش را با جزئیات بسیار بیشتری نسبت به رقبا توضیح بده.
*   **آمار و منابع به‌روز:** از جدیدترین آمار، تحقیقات و منابع (با ذکر منبع فرضی) استفاده کن.
*   **طراحی و خوانایی:** از تیترهای فرعی (H3, H4)، لیست‌ها، جداول مقایسه‌ای و تصاویر پیشنهادی (با توضیح) برای بهبود تجربه کاربری استفاده کن.
*   **کلمات کلیدی:** کلمه کلیدی اصلی "[موضوع اصلی مقاله]" و کلمات کلیدی مرتبط را به صورت هوشمندانه در متن بگنجان.
*   **لحن:** لحنی معتبر و قابل اعتماد داشته باش.

**مرحله ۴: بهینه‌سازی نهایی**
1.  **عنوان سئو و توضیحات متا:** یک عنوان و توضیحات متا بنویس که کلیک‌خور (CTR) بالایی داشته باشد و بر برتری محتوای شما تأکید کند.
2.  **لینک‌دهی:** به منابع معتبری که استفاده کردی (به صورت فرضی) لینک بده و پیشنهاداتی برای لینک‌های داخلی ارائه کن.

**خروجی نهایی:**
یک مقاله با حداقل **۲۰۰۰ کلمه** که از هر نظر بر رقبای خود برتری دارد. مقاله باید آماده انتشار مستقیم در وردپرس باشد. از افزودن عباراتی مانند "عنوان:" یا "بدنه مقاله:" خودداری کن.
'
        ),
        // ****** پرامپت شماره 3: مقاله راهنمای "چگونه" (How-to Guide) ******
        array(
            'title' => 'راهنمای عملی قدم به قدم (How-to)',
            'model' => 'gpt-4o',
            'prompt' => '
**نقش شما:** شما یک مربی و نویسنده فنی هستید که در نوشتن راهنماهای عملی، واضح و قدم به قدم تخصص دارید. وظیفه شما ایجاد یک راهنمای کامل برای "[موضوع راهنما: مثلاً چگونه یک کیک شکلاتی بپزیم؟]" است.

**هدف اصلی:** کاربر باید بتواند **فقط با خواندن این راهنما**، کار مورد نظر را با موفقیت و بدون هیچ مشکلی انجام دهد.

**مراحل اجرای کار:**

**مرحله ۱: برنامه‌ریزی راهنما**
1.  **شناسایی مخاطب:** این راهنما برای چه کسی است؟ (مبتدی، متوسط، حرفه‌ای). سطح دانش فنی او را در نظر بگیر.
2.  **لیست ابزار و پیش‌نیازها:** یک بخش در ابتدای مقاله با عنوان "آنچه قبل از شروع نیاز دارید" ایجاد کن و تمام ابزارها، مواد اولیه یا نرم‌افزارهای مورد نیاز را لیست کن.
3.  **تقسیم فرآیند به مراحل:** کل فرآیند را به مراحل اصلی و قابل مدیریت (حداقل ۵ مرحله) تقسیم کن. هر مرحله باید یک اقدام مشخص باشد.

**مرحله ۲: طراحی ساختار راهنما**
*   **H1 (عنوان):** عنوانی واضح و عملی (مثلاً: "راهنمای قدم به قدم پخت کیک شکلاتی برای مبتدیان").
*   **مقدمه:** به طور خلاصه توضیح بده که در این راهنما چه چیزی آموزش داده می‌شود و نتیجه نهایی چه خواهد بود.
*   **بخش پیش‌نیازها.**
*   **بدنه اصلی (مراحل):**
    *   هر مرحله باید یک تیتر H2 داشته باشد (مثلاً: "مرحله ۱: آماده‌سازی مواد اولیه").
    *   برای هر مرحله، دستورالعمل‌ها را به صورت یک لیست شماره‌دار و واضح بنویس.
    *   **نکته کلیدی:** بعد از هر چند مرحله، یک بخش "نکات حرفه‌ای" یا "اشتباهات رایج" اضافه کن.
*   **بخش عیب‌یابی (Troubleshooting):** یک بخش H2 با عنوان "مشکلات احتمالی و راه‌حل‌ها" ایجاد کن و به ۳-۴ مشکل رایجی که ممکن است کاربر با آن مواجه شود، پاسخ بده.
*   **نتیجه‌گیری:** نتیجه کار را جشن بگیر و کاربر را برای موفقیتش تشویق کن.
*   **بخش FAQ.**

**مرحله ۳: نگارش محتوا**
*   **زبان ساده و امری:** از جملات کوتاه، واضح و دستوری استفاده کن (مثلاً: "فر را روی ۱۸۰ درجه تنظیم کنید.").
*   **غنی‌سازی بصری:** در هر مرحله، توضیح بده که چه نوع تصویر، گیف یا ویدیویی می‌تواند به درک بهتر کمک کند (مثلاً: "[تصویر: نمایی نزدیک از هم زدن تخم مرغ‌ها]").
*   **تمرکز بر جزئیات:** هیچ مرحله‌ای را ناگفته نگذار. فرض کن کاربر هیچ دانشی در این زمینه ندارد.
*   **کلمات کلیدی:** از کلمات کلیدی مرتبط با موضوع مانند "[نام دیگر موضوع]"، "آموزش [موضوع]"، "مشکلات [موضوع]" به صورت طبیعی استفاده کن.

**خروجی نهایی:**
یک راهنمای بسیار کاربردی با حداقل **۱۵۰۰ کلمه** که به صورت مستقیم در وردپرس قابل استفاده باشد. لحن باید دوستانه، حمایتی و تشویق‌کننده باشد. از نوشتن "عنوان:" و غیره خودداری کن.
'
        ),
        // ****** پرامپت شماره 4: مقاله لیستی (Listicle) ******
        array(
            'title' => 'مقاله لیستی (مثلا: ۱۰ ابزار برتر)',
            'model' => 'gemini-2.0-flash',
            'prompt' => '
**نقش شما:** شما یک وبلاگ‌نویس حرفه‌ای هستید که در نوشتن مقالات لیستی (Listicles) جذاب، ویروسی و مفید تخصص دارید. وظیفه شما نوشتن یک مقاله لیستی با عنوان "[عنوان لیست: مثلاً ۱۰ ابزار برتر هوش مصنوعی برای تولید محتوا]" است.

**هدف اصلی:** ایجاد یک مقاله مرجع که کاربران آن را ذخیره کرده و به دیگران به اشتراک بگذارند.

**مراحل اجرای کار:**

**مرحله ۱: تحقیق و انتخاب آیتم‌های لیست**
1.  **انتخاب آیتم‌ها:** لیستی از بهترین و مرتبط‌ترین گزینه‌ها را برای لیست خود تهیه کن. فقط موارد با کیفیت را انتخاب کن.
2.  **معیارهای رتبه‌بندی:** مشخص کن بر چه اساسی این آیتم‌ها را رتبه‌بندی می‌کنی (مثلاً قیمت، ویژگی‌ها، سهولت استفاده).

**مرحله ۲: طراحی ساختار مقاله لیستی**
*   **H1 (عنوان):** یک عنوان جذاب و کلیک‌خور که شامل عدد باشد (مثلاً: "۱۱ ابزار هوش مصنوعی که هر تولیدکننده محتوایی باید بشناسد").
*   **مقدمه:** با یک آمار جالب یا یک داستان کوتاه، اهمیت موضوع را نشان بده و بگو که این لیست چگونه به کاربر کمک خواهد کرد.
*   **بدنه اصلی (آیتم‌های لیست):**
    *   هر آیتم باید یک تیتر H2 داشته باشد (مثلاً: "۱. ابزار [نام ابزار]").
    *   برای هر آیتم، بخش‌های زیر را پوشش بده:
        *   **معرفی کوتاه:** این ابزار چیست و چه کار می‌کند؟
        *   **ویژگی‌های کلیدی:** به صورت بولت‌پوینت، ۳-۴ ویژگی برتر آن را لیست کن.
        *   **بهترین کاربرد:** این ابزار برای چه کسانی یا چه کارهایی مناسب‌تر است؟
        *   **قیمت‌گذاری:** به طور خلاصه مدل قیمت‌گذاری آن را توضیح بده.
*   **بخش ویژه:** یک یا دو آیتم "افتخاری" یا "کمتر شناخته شده" به انتهای لیست اضافه کن تا مقاله شما منحصر به فرد شود.
*   **جدول مقایسه:** یک جدول مقایسه‌ای ساده در انتهای مقاله ایجاد کن که آیتم‌های اصلی را بر اساس معیارهای کلیدی مقایسه کند.
*   **نتیجه‌گیری:** یک جمع‌بندی کوتاه ارائه بده و شاید انتخاب شخصی خودت را به عنوان "بهترین گزینه کلی" معرفی کن.

**مرحله ۳: نگارش محتوا**
*   **لحن جذاب و پرانرژی:** از لحنی استفاده کن که خواننده را تا انتهای لیست نگه دارد.
*   **توصیفات قانع‌کننده:** برای هر آیتم، به وضوح توضیح بده که چه ارزشی برای کاربر ایجاد می‌کند.
*   **کلمات کلیدی:** از کلماتی مانند "بهترین"، "برترین"، "نقد و بررسی"، "[نام آیتم]" در سراسر متن استفاده کن.

**خروجی نهایی:**
یک مقاله لیستی جذاب با حداقل **۱۸۰۰ کلمه** که آماده انتشار در وردپرس باشد. از نوشتن "عنوان:" و غیره خودداری کن.
'
        ),
        // ****** پرامپت شماره 5: مقاله مقایسه‌ای (Comparison) ******
        array(
            'title' => 'مقاله مقایسه‌ای (X در مقابل Y)',
            'model' => 'gpt-4o',
            'prompt' => '
**نقش شما:** شما یک تحلیل‌گر و منتقد بی‌طرف هستید. وظیفه شما نوشتن یک مقاله مقایسه‌ای عمیق و منصفانه بین "[آیتم ۱: مثلاً افزونه Yoast SEO]" و "[آیتم ۲: مثلاً افزونه Rank Math]" است.

**هدف اصلی:** کمک به کاربر برای گرفتن یک تصمیم آگاهانه بر اساس نیازها و شرایط خاص خودش.

**مراحل اجرای کار:**

**مرحله ۱: تعیین معیارهای مقایسه**
لیستی از مهم‌ترین معیارهایی که برای مقایسه این دو آیتم باید در نظر گرفته شود، تهیه کن (حداقل ۷ معیار). مثال برای افزونه‌های سئو: ویژگی‌ها، قیمت، رابط کاربری، پشتیبانی، تأثیر بر سرعت سایت.

**مرحله ۲: طراحی ساختار مقاله**
*   **H1 (عنوان):** عنوانی که به وضوح مقایسه را نشان دهد (مثلاً: "Yoast SEO در مقابل Rank Math: کدام افزونه سئو برای شما بهتر است؟").
*   **مقدمه:** هر دو آیتم را به طور خلاصه معرفی کن و بگو که در انتهای این مقاله، کاربر قادر به انتخاب بهترین گزینه خواهد بود.
*   **جدول مقایسه سریع:** یک جدول در ابتدای مقاله قرار بده که به صورت خلاصه، دو آیتم را بر اساس معیارهای اصلی مقایسه کند و برنده هر بخش را مشخص کند.
*   **مقایسه تفصیلی (Head-to-Head):**
    *   این بخش اصلی مقاله است. برای هر معیاری که در مرحله ۱ مشخص کردی، یک تیتر H2 ایجاد کن (مثلاً: "مقایسه ویژگی‌ها").
    *   در زیر هر H2، توضیح بده که هر کدام از آیتم‌ها در آن معیار چگونه عمل می‌کنند و در نهایت یک "برنده" برای آن معیار خاص اعلام کن و دلیلش را توضیح بده.
*   **بخش "چه زمانی X را انتخاب کنیم؟":** به طور مشخص توضیح بده که [آیتم ۱] برای چه نوع کاربرانی یا چه پروژه‌هایی مناسب‌تر است.
*   **بخش "چه زمانی Y را انتخاب کنیم؟":** به طور مشخص توضیح بده که [آیتم ۲] برای چه نوع کاربرانی یا چه پروژه‌هایی مناسب‌تر است.
*   **نتیجه‌گیری نهایی:** یک جمع‌بندی کامل ارائه بده و یک توصیه نهایی بر اساس سناریوهای مختلف ارائه کن. **از اعلام یک برنده قطعی برای همه پرهیز کن.**

**مرحله ۳: نگارش محتوا**
*   **بی‌طرفی:** سعی کن در سراسر متن منصف و بی‌طرف باشی. هر دو جنبه مثبت و منفی را ذکر کن.
*   **استفاده از داده:** در صورت امکان، به داده‌ها، آمار یا تست‌های عملکردی (به صورت فرضی) برای پشتیبانی از ادعاهای خود اشاره کن.
*   **کلمات کلیدی:** از عباراتی مانند "[آیتم ۱] vs [آیتم ۲]"، "مقایسه [آیتم ۱] و [آیتم ۲]"، "تفاوت‌های [آیتم ۱] و [آیتم ۲]" و "کدام بهتر است" استفاده کن.

**خروجی نهایی:**
یک مقاله مقایسه‌ای دقیق و جامع با حداقل **۲۰۰۰ کلمه** که به کاربر در تصمیم‌گیری کمک شایانی کند. مقاله باید آماده انتشار مستقیم در وردپرس باشد.
'
        )
    );
}

// تابع برای افزودن پرامپت‌های پیش‌فرض به تنظیمات
function add_default_prompts_to_settings() {
    $option_key = 'smart_admin_saved_prompts';
    $version_key = 'smart_admin_prompts_version';
    $current_version = '2.0'; // نسخه جدید پرامپت‌ها

    // اگر نسخه فعلی با نسخه ذخیره شده متفاوت است، پرامپت‌ها را بازنویسی کن
    if (get_option($version_key) != $current_version) {
        $default_prompts = get_default_content_prompts();
        $new_prompts = [];

        foreach ($default_prompts as $prompt) {
            $new_prompts[] = array(
                'prompt' => trim($prompt['prompt']), // حذف فضاهای خالی احتمالی
                'model' => $prompt['model'],
                'title' => $prompt['title'],
                'date' => current_time('mysql'),
                'is_template' => true
            );
        }
        
        // جایگزینی کامل پرامپت‌های قدیمی با جدید
        update_option($option_key, $new_prompts);
        update_option($version_key, $current_version);
    }
}

// افزودن پرامپت‌های پیش‌فرض هنگام بارگذاری ادمین
add_action('admin_init', 'add_default_prompts_to_settings');